@import 'tailwindcss';

@theme {
  --color-carnation: #f45f74;
  --color-daintree: #012a36;
  --color-dull-lime: #85c91c;
  --color-mystic: #d9e3e8;
  --color-pastel-orange: #f4af64;
  --color-onyx: #121010;
}

@layer base {

  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--color-gray-200, currentcolor);
  }
}

@utility animate-fadein {
  animation: fadein 2s;
}

@utility animate-turn-on {
  animation: turn-on 1.2s cubic-bezier(0.16, 1, 0.3, 1);
  animation-fill-mode: forwards;
  transform-origin: center center;
  will-change: transform, filter;

  &::before {
    content: '';
    position: absolute;
    inset: 0;
    pointer-events: none;
    animation: crt-glow 1.4s ease-out forwards;
    z-index: 9999;
  }
}

@utility crt-scanlines-animating {
  /* Scanline animation during turn-on */
  animation: scanline-tighten 0.8s ease-out forwards;
}

@utility crt-chromatic {
  /* Chromatic aberration effect class */
  animation: chromatic-shift 0.6s ease-out forwards;
}

@utility animate-turn-off {
  animation: turn-off 0.55s cubic-bezier(0.23, 1, 0.32, 1);
  animation-fill-mode: forwards;
}

@utility animation-done {
  /* State after turn-on animation completes - holds the final values */
  transform: scale(1, 1) translate3d(0, 0, 0);
  filter: contrast(1) brightness(1.2) saturate(1.3);
  opacity: 1;
}

@utility animate-flicker {
  @media screen {
    animation: flicker 0.15s infinite;
  }
}

@layer utilities {
  .animate-pulse-ring {
    animation: pulse-ring 2s infinite;
  }
}

@layer utilities {

  html,
  body,
  #__next,
  main {
    height: 100%;
    margin: 0;
    padding: 0;
    overflow: hidden;
  }

  body {
    background-color: #000;
    font-family:
      -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
      'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
      sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* Print helpers */
  .print-only {
    display: none;
  }

  @media print {

    html,
    body {
      height: auto !important;
      overflow: visible !important;
      background: #fff !important;
      margin: 0 !important;
      padding: 0 !important;
    }

    /* Hide ALL app content - use visibility+position to avoid animation restart */
    body>*:not(.print-only) {
      visibility: hidden !important;
      position: absolute !important;
      top: -9999px !important;
      left: -9999px !important;
    }

    /* Hide elements marked as no-print */
    .no-print {
      display: none !important;
    }

    /* The print-only portal content */
    .print-only {
      display: block !important;
      position: static !important;
      visibility: visible !important;
      width: 100% !important;
      padding: 0 !important;
      margin: 0 !important;
      background: #fff !important;
    }

    /* Ensure the printed page is clean */
    .pdf-print-page {
      display: block !important;
      box-shadow: none !important;
      border: none !important;
      background: #fff !important;
      color: #000 !important;
      -webkit-print-color-adjust: exact;
      print-color-adjust: exact;
      margin: 0 auto !important;
      padding: 0 !important;
    }

    @page {
      margin: 0;
    }
  }
}

@layer utilities {
  @keyframes fadein {
    from {
      opacity: 0;
    }

    to {
      opacity: 1;
    }
  }

  @keyframes turn-on {
    0% {
      /* Start as bright horizontal line */
      transform: scaleY(0.005);
      filter: brightness(30) saturate(0);
      opacity: 1;
    }

    12% {
      /* Brief hold then start expanding */
      transform: scaleY(0.005);
      filter: brightness(50) saturate(0);
      opacity: 1;
    }

    70% {
      /* Slight overshoot */
      transform: scaleY(1.02);
      filter: brightness(1.6) saturate(0.9);
      opacity: 1;
    }

    85% {
      /* Settle back */
      transform: scaleY(0.998);
      filter: brightness(1.3) saturate(1.1);
      opacity: 1;
    }

    100% {
      /* Final state */
      transform: scaleY(1);
      filter: brightness(1.2) saturate(1.3);
      opacity: 1;
    }
  }

  @keyframes crt-glow {
    0% {
      box-shadow:
        inset 0 0 200px 60px rgba(255, 255, 255, 0.9),
        0 0 100px 40px rgba(140, 180, 255, 0.6);
      opacity: 1;
    }

    15% {
      box-shadow:
        inset 0 0 150px 40px rgba(255, 255, 255, 0.7),
        0 0 80px 30px rgba(140, 180, 255, 0.5);
      opacity: 0.9;
    }

    40% {
      box-shadow:
        inset 0 0 80px 20px rgba(255, 255, 255, 0.3),
        0 0 40px 15px rgba(140, 180, 255, 0.3);
      opacity: 0.6;
    }

    70% {
      box-shadow:
        inset 0 0 30px 5px rgba(255, 255, 255, 0.1),
        0 0 15px 5px rgba(140, 180, 255, 0.1);
      opacity: 0.3;
    }

    100% {
      box-shadow:
        inset 0 0 0 0 transparent,
        0 0 0 0 transparent;
      opacity: 0;
    }
  }

  @keyframes scanline-tighten {
    0% {
      background-size: 100% 8px, 6px 100%;
      opacity: 0.3;
    }

    50% {
      background-size: 100% 4px, 4px 100%;
      opacity: 0.5;
    }

    100% {
      background-size: 100% 2px, 3px 100%;
      opacity: 1;
    }
  }

  @keyframes chromatic-shift {
    0% {
      text-shadow:
        -3px 0 rgba(255, 0, 0, 0.5),
        3px 0 rgba(0, 255, 255, 0.5);
      filter: blur(2px);
    }

    30% {
      text-shadow:
        -2px 0 rgba(255, 0, 0, 0.3),
        2px 0 rgba(0, 255, 255, 0.3);
      filter: blur(1px);
    }

    70% {
      text-shadow:
        -1px 0 rgba(255, 0, 0, 0.1),
        1px 0 rgba(0, 255, 255, 0.1);
      filter: blur(0.5px);
    }

    100% {
      text-shadow: none;
      filter: blur(0);
    }
  }

  @keyframes gamma-ramp {
    0% {
      filter: brightness(0) contrast(0);
    }

    20% {
      filter: brightness(0.3) contrast(0.5);
    }

    50% {
      filter: brightness(0.7) contrast(0.8);
    }

    80% {
      filter: brightness(1.1) contrast(1.1);
    }

    100% {
      filter: brightness(1) contrast(1);
    }
  }

  @keyframes turn-off {
    0% {
      transform: scale(1, 1.3) translate3d(0, 0, 0);
      filter: brightness(1);
      opacity: 1;
    }

    60% {
      transform: scale(1.3, .001) translate3d(0, 0, 0);
      filter: brightness(10);
    }

    100% {
      animation-timing-function: cubic-bezier(.755, .050, .855, .060);
      transform: scale(0, .0001) translate3d(0, 0, 0);
      filter: brightness(50);
    }
  }

  @keyframes flicker {
    0% {
      opacity: 0.27861;
    }

    5% {
      opacity: 0.34769;
    }

    10% {
      opacity: 0.23604;
    }

    15% {
      opacity: 0.90626;
    }

    20% {
      opacity: 0.18128;
    }

    25% {
      opacity: 0.83891;
    }

    30% {
      opacity: 0.65583;
    }

    35% {
      opacity: 0.67807;
    }

    40% {
      opacity: 0.26559;
    }

    45% {
      opacity: 0.84693;
    }

    50% {
      opacity: 0.96019;
    }

    55% {
      opacity: 0.08594;
    }

    60% {
      opacity: 0.20313;
    }

    65% {
      opacity: 0.71988;
    }

    70% {
      opacity: 0.53455;
    }

    75% {
      opacity: 0.37288;
    }

    80% {
      opacity: 0.71428;
    }

    85% {
      opacity: 0.70419;
    }

    90% {
      opacity: 0.7003;
    }

    95% {
      opacity: 0.36108;
    }

    100% {
      opacity: 0.24387;
    }
  }

  @keyframes pulse-ring {
    0% {
      box-shadow: 0 0 0 0 rgba(255, 255, 255, 0.28);
    }

    70% {
      box-shadow: 0 0 0 30px rgba(0, 0, 0, 0);
    }

    100% {
      box-shadow: 0 0 0 0 rgba(0, 0, 0, 0);
    }
  }

  @keyframes blink {
    0% {
      opacity: 1;
    }

    50% {
      opacity: 0;
    }

    100% {
      opacity: 1;
    }
  }
}